<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trang chủ tổng kết</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/base1.css}">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

    <link rel="stylesheet" type="text/css" th:href="@{/css/TrangChuHoatDong.css}">
    <script defer th:src="@{/js/TrangChuHoatDong.js}"></script>
</head>

<body>
<div  class="sticky-top" style="top: -87px" th:include="Header :: html"></div>
<div class="container p-5">
    <!-- Search -->
    <div class="fs-6 p-1 border-search width-25rem m-5 position-relative">
        <i class="bi bi-search p-2 green-color"></i>
        <input type="text" class="border-0 grey-color p-md-1 no-outline w-85 search-input"
               placeholder="Tìm kiếm hoạt động" />
        <!-- Infor search -->
        <div class="container position-abs box-shadow z-index-1 bg-white p-2 radius-1 search-info no-display">
            <h2 class="fs-6 pb-1 p-1">Tìm kiếm gần đây</h2>
            <div class="container overflow-auto max_height-20rem">
                <div class="container d-flex align-items-center mb--1 p-0 btn btn-group search-info-item">
                    <img class="w-3 h-2_5 flex-1" src="../static/images/anh1.jpg" alt="" />
                    <p class="m-1 fs-7 ml--3 flex-16 ">Mang con chữ đến trẻ vùng cao</p>
                    <i class="flex-1 btn btn-close p-0 fs-7"></i>
                </div>

                <div class="container d-flex align-items-center mb--1 p-0 btn btn-group search-info-item">
                    <img class="w-3 h-2_5 flex-1" src="../static/images/anh1.jpg" alt="" />
                    <p class="m-1 fs-7 ml--3 flex-16">Mang con chữ đến trẻ vùng cao</p>
                    <i class="flex-1 btn btn-close p-0 fs-7"></i>
                </div>

                <div class="container d-flex align-items-center mb--1 p-0 btn btn-group search-info-item">
                    <img class="w-3 h-2_5 flex-1" src="../static/images/anh1.jpg" alt="" />
                    <p class="m-1 fs-7 ml--3 flex-16">Mang con chữ đến trẻ vùng cao</p>
                    <i class="flex-1 btn btn-close p-0 fs-7"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Content -->
    <div class="container d-flex content">
        <!-- Left -->
        <div class="container p-5 pt-0 fs-6 mx--2 flex-3 mh-90">
            <h2 class="mx-0 fs-4 mb-sm-3 green-color" >TỔNG KẾT HOẠT ĐỘNG</h2>
            <div class="act-slider">
             <div class="container-item" th:each="i : ${#numbers.sequence(0, summaryList.size() div 4 + ((summaryList.size()%4 > 0) ? 1 : 0) - 1)}">
               <div class="container d-flex align-items-center float-start p-0 pb-2 border_bottom-solid cursor-pointer" th:each="j:${#numbers.sequence(0,3)}" th:if="${(4*i+j)<summaryList.size()}">
                <img th:src="'data:image/jpeg;base64,' + ${Anh.getimgdata(summaryList.get((4*i)+j).getMaHD().getAnh())}" alt="" class="float-start w-15 h-80 act-image"/>
                <div class="card border-0">
                    <div class="card-body fs-7">
                        <div class="card-title fs-6 fw-bolder green-color lh-1 max-line-1" th:text="${summaryList.get((4*i)+j).getMaHD().getTenHD()}"></div>
                        <div class="card-text" th:text="${#strings.length(summaryList.get((4*i)+j).getLoiKet()) > 300 ? summaryList.get((4*i)+j).getLoiKet().substring(0, 300) + '...' : summaryList.get((4*i)+j).getLoiKet()}"></div>
                        <div class="card-text">
                            <i class="bi bi-calendar2 m-1 green-color"></i><span th:text="${#temporals.format(summaryList.get((4*i)+j).getMaHD().getThoiGianBD(), 'dd/MM/yyyy')} + ' - ' + ${#temporals.format(summaryList.get((4*i)+j).getMaHD().getThoiGianKT(), 'dd/MM/yyyy')}"></span>
                        </div>
                        <br>
                        <div class="card-text bg-btn height-2rem radius-lghalf mt-7 white-color fs-9 p-1 pleft-6 fs-8 mt-9 text_align-center "><a class="btn-summary" th:href="@{/View-Summary(id=${summaryList.get((4*i)+j).getMaHD().getId()})}">Xem tổng kết</a></div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        </div>
        <!-- Right -->
        <div class="container flex-1 bg-green radius-lghalf">
            <h2 class="fs-4 pt-sm-3 text-center">HOẠT ĐỘNG ĐÃ THAM GIA</h2>
            <div class="list_card">
            <div class="container mh-100 overflow-y-auto " th:each="myActiviy : ${myActivities}">

                <div class="container mh-12 w-90 position-relative cursor-pointer content-right my-4 ml-0_5">
                    <img class="top-0 start-0 end-0 w-19r h-80 ml-1 img-myActivity" th:src="'data:image/jpeg;base64,' + ${Anh.getimgdata(myActiviy.getAnh())}" alt="" />
                    <div class="container position-absolute bottom-0 start-1_5 end-0 bg-white radius-1 mh-60 w-90">
                        <h3 class="fs-9 card-title py-2 pt-sm-2 text-center fst-italic m-0 max-line-3" th:text="${myActiviy.getTenHD()}"></h3>
                        <p class="card-text fs-11 text-center fst-italic px-3 m-0 max-line-4" th:text="${#strings.length(myActiviy.getMoTa()) > 100 ? myActiviy.getMoTa().substring(0, 100) + '...' : myActiviy.getMoTa()}">
                        </p>
                        <div  th:each="summ: ${summaryList}">
                           <div  th:if="${myActiviy.getId()==summ.getMaHD().getId()}" >
                            <div class="fs-11 p-2 text-decoration-none green_dark-color fw-medium fst-italic px-6">
                               <a class="btn-myacti-summary" th:href="@{/View-Summary(id=${myActiviy.getId()})}" >Xem tổng kết</a>
                            </div>
                           </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
<script defer th:src="@{/js/TrangChuTongKet.js}"></script>
</body>

</html>