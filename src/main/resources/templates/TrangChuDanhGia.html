<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css "/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/base.css}">
    <script  defer th:src="@{/js/Header.js}"></script>
</head>
<div id="placeholder" style="height: 87px; display: none;"></div>
<div id="myHeader" style="top: -87px" th:include="Header :: html"></div>
<!--The tim kiem-->
<div class="container p-5">
    <div class="fs-6 p-1 border-search width-25rem m-2 position-relative">
        <i class="bi bi-search p-2 grey-color"></i>
        <input type="text" class="border-0 grey-color p-md-1 no-outline w-85 search-input"
               placeholder="Tìm kiếm hoạt động" />
 </div>
</div>

    <!--Content-->
<div class="container px-5"> <h2 class="fs-3 px-3 mb-4">HOẠT ĐỘNG GẦN ĐÂY</h2></div>
    <div class="container d-flex">
        <!--Left-->
            <div class="container w-75 surround-left">
                <div class="container p-5 pt-0 fs-6 mx--2 act-slider">
                    <div class="container-item" th:each="i : ${#numbers.sequence(0, activityList.size() div 4 + ((activityList.size()%4 > 0) ? 1 : 0) - 1)}" th:if="${not #lists.isEmpty(activityList)}">
                        <div class="container d-flex align-items-center float-start p-0 pb-2 border_bottom-solid" th:each="j:${#numbers.sequence(0,3)}" th:if="${(4*i+j)<activityList.size()}">
                            <img th:src="@{${activityList.get(4*i+j).getAnh()}}" class="float-start h-80 col-2" alt="" />
                            <div class="card border-0 col-10">
                                <div class="card-body fs-7">
                                    <div class="card-title fs-6 fw-bolder green-color" th:text="${activityList.get((4*i)+j).getTenhd()}"></div>
                                    <div class="card-text my-0" th:text="${#strings.length(activityList.get(4*i+j).getMoTa()) > 200 ? activityList.get(4*i+j).getMoTa().substring(0, 200) + '...' : activityList.get(4*i+j).getMoTa()}"></div>
                                    <div class="card-text mx-2 my-1">
                                        <i class="bi bi-calendar2 m-1 green-color" th:text="'   ' + ${#temporals.format(activityList.get(4*i+j).getThoiGianBD(),'dd/MM/yyyy')} + ' - ' + ${#temporals.format(activityList.get(4*i+j).getThoiGianKT(),'dd/MM/yyyy')}"></i>
                                    </div>
                                    <div class="card-link p-0">
                                        <button
                                                class="btn text-decoration-none green_light-color fw-medium fst-italic float-sm-end me-md-3 mb-md-1 no-border fs-7 view-detail" th:attr="data-value=${activityList.get(4*i+j).getId()}" >Xem
                                            chi tiết...</button>
                                    </div>
                                    <div
                                            class="card-text bg-btn height-2rem radius-lghalf mt-7 white-color fs-9 p-1 pleft-6 fs-8 mt-9 text_align-center"> <p class="ml-20p" th:text="'Lượt đánh giá ' + '(' + ${countEvaList.get(4*i+j)} + ')'"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <!--Right-->
                <div class="container w-25 mt-2_8 p-0">
                    <div class="container cmt-slider">
                        <div class="container bg-grey radius-1 p-2 my-6" th:each="index:${#numbers.sequence(0,5)}" th:if="${index<evaluationList.size()}">
                            <div class="container d-flex my-1">
                                <img th:src="@{${evaluationList.get(index).getMaTK().getAnhDaiDien()}}" class="radius-1 me-1 w-1_8 h-1_8" alt="">
                                <h7 class="green-color fs-9 fst-italic fw-medium" th:text="${evaluationList.get(index).getMaTK().getTenDN()}"></h7>
                            </div>
                            <div class="container d-flex align-items-center mx-1">
                                <p class="fs-10 fst-italic m-0" th:text="${evaluationList.get(index).getBinhLuan()}">
                                </p>
                            </div>
                            <p class="green_light-color fst-italic fs-10 my-0 mx-3" th:text="${#dates.format(evaluationList.get(index).getThoiGianBL(),'dd/MM/yyyy')}"></p>
                        </div>
                    </div>
                </div>
        </div>

    <!-- Chuyển trang danh gia (co dang nhap)-->
<button class="green_light-color no-text-decoration fw-semibold fst-italic fs-4 float-end mtrb-4rem no-border bg-white btn-evaluation-Act" th:attr="data-value=${account!=null?account.getId():null}">
        Đánh giá hoạt động...</button>


<!-- Modal -->
<div class="modal_ no-display">
    <div class="modal__overlay">

    </div>
    <div class="modal__body modal-dialog-centered box-shadow position-relative">
        <!--Form chi tiet danh gia-->
        <div class="container w-45 p-0">
            <div class="container w-100 h-2_7 bg-green-dark d-flex py-2 justify-content-between align-items-center btr-radius">
            <!--  Ten hoat dong-->
                <h3 class="fs-6 white-color text-center m-0 col-11 modal-nameAct"></h3>
                <div class="btn btn-close col-1 btn-close-detail"></div>
            </div>

            <div class="container max_height-36rem overflow-y-auto overflow-x-hidden scr-Act">
                <div class="container d-flex align-items-center mt-2">
                    <img class="w-2_5 h-2_5 ml-0_1 radius-1_8 avatar" src="" alt="">
                    <div class="container ml-0_1">
                        <h4 class="green-color fs-6 my-1 mt-1 name-host-act"></h4>
                    <!-- Thời gian xét duyệt-->
                        <p class="m-0 fs-10 fst-italic green-color time-post-act"></p>
                    </div>
                </div>

                <!-- Mo ta-->
                <p class="m-0 p-3 fs-7 modal-Description"></p>

                <div class="container d-flex m-1 justify-content-center images-Activity">
                <!-- Anh da tong ket hoat dong-->
               </div>
                <!-- Header comment -->
                <div class="container border_top-solid border_bottom-solid p-2 fs-9 fst-italic modal-number-evaluation"></div>
                <div class="container modal-comment">
                <!-- Danh gia cua thanh vien doi voi TC va HD -->
                </div>
            </div>
        </div>
    </div>
</div>

<div style="margin-bottom: 10rem"></div>
<div id="myFooter" th:include="Footer :: html" ></div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script th:src="@{/js/TrangChuDanhGia.js}" defer="defer"></script>
<script th:src="@{/js/SearchEvaluationHome.js}" defer="defer"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
<script>

</script>
</html>